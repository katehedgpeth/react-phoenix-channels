{"version":3,"file":"index.js","sources":["../build/classes/Event.js","../build/classes/shims/Phoenix/Socket/JoinError.js","../build/classes/shims/Phoenix/Socket.js","../build/classes/shims/Phoenix/Channel.js","../build/classes/shims/Phoenix/Statuses.js","../build/classes/Push.js","../build/classes/Channel.js","../build/classes/Socket.js","../build/providers/SocketProvider.js","../build/hooks/useChannel.js"],"sourcesContent":["export var PushEvents;\n(function (PushEvents) {\n    PushEvents[\"Send\"] = \"PUSH_SEND\";\n    PushEvents[\"Success\"] = \"PUSH_SUCCESS\";\n    PushEvents[\"Timeout\"] = \"PUSH_TIMEOUT\";\n    PushEvents[\"Error\"] = \"PUSH_ERROR\";\n})(PushEvents || (PushEvents = {}));\nexport var HeartbeatEvents;\n(function (HeartbeatEvents) {\n    HeartbeatEvents[\"Send\"] = \"HEARTBEAT_SEND\";\n    HeartbeatEvents[\"Reply\"] = \"HEARTBEAT_REPLY\";\n})(HeartbeatEvents || (HeartbeatEvents = {}));\nexport var JoinEvents;\n(function (JoinEvents) {\n    JoinEvents[\"Start\"] = \"JOIN_START\";\n    JoinEvents[\"Success\"] = \"JOIN_SUCCESS\";\n    JoinEvents[\"Error\"] = \"JOIN_ERROR\";\n    JoinEvents[\"Timeout\"] = \"JOIN_TIMEOUT\";\n})(JoinEvents || (JoinEvents = {}));\nexport var MessageEvents;\n(function (MessageEvents) {\n    MessageEvents[\"Receive\"] = \"MESSAGE_RECEIVE\";\n})(MessageEvents || (MessageEvents = {}));\n//# sourceMappingURL=Event.js.map","export var Reasons;\n(function (Reasons) {\n    Reasons[\"UnmatchedTopic\"] = \"unmatched topic\";\n})(Reasons || (Reasons = {}));\n//# sourceMappingURL=JoinError.js.map","export * as JoinError from \"./Socket/JoinError\";\nexport var SocketMessages;\n(function (SocketMessages) {\n    SocketMessages[\"Join\"] = \"phx_join\";\n    SocketMessages[\"Error\"] = \"phx_error\";\n    SocketMessages[\"Reply\"] = \"phx_reply\";\n    SocketMessages[\"Close\"] = \"phx_close\";\n    SocketMessages[\"Leave\"] = \"phx_leave\";\n    SocketMessages[\"Heartbeat\"] = \"heartbeat\";\n})(SocketMessages || (SocketMessages = {}));\nexport var SocketStatus;\n(function (SocketStatus) {\n    SocketStatus[\"Connecting\"] = \"connecting\";\n    SocketStatus[\"Open\"] = \"open\";\n    SocketStatus[\"Closing\"] = \"closing\";\n    SocketStatus[\"Closed\"] = \"closed\";\n})(SocketStatus || (SocketStatus = {}));\n//# sourceMappingURL=Socket.js.map","export var ChannelState;\n(function (ChannelState) {\n    ChannelState[\"Closed\"] = \"closed\";\n    ChannelState[\"Errored\"] = \"errored\";\n    ChannelState[\"Joined\"] = \"joined\";\n    ChannelState[\"Joining\"] = \"joining\";\n    ChannelState[\"Leaving\"] = \"leaving\";\n})(ChannelState || (ChannelState = {}));\n//# sourceMappingURL=Channel.js.map","export var Statuses;\n(function (Statuses) {\n    Statuses[\"Ok\"] = \"ok\";\n    Statuses[\"Error\"] = \"error\";\n    Statuses[\"Timeout\"] = \"timeout\";\n})(Statuses || (Statuses = {}));\n//# sourceMappingURL=Statuses.js.map","import { JoinEvents, PushEvents } from \"./Event\";\nimport * as Phoenix from \"./shims/Phoenix/index\";\nexport class Push {\n    constructor(push, channel) {\n        this.push = push;\n        this.channel = channel;\n        this.reply = null;\n        this.__send = () => {\n            throw new Error(\"__send not initialized\");\n        };\n        this.ref = push.ref;\n        this.refEvent = push.refEvent;\n        this.topic = channel.topic;\n        this.message = push.event;\n        this.__send = this.push.send.bind(this.push);\n        this.push.send = this.send.bind(this);\n        this.push\n            .receive(\"ok\", (response) => this.dispatch(PushEvents.Success, response))\n            .receive(\"error\", (error) => this.dispatch(PushEvents.Error, error))\n            .receive(\"timeout\", (error) => this.dispatch(PushEvents.Timeout, error));\n    }\n    send() {\n        this.__send();\n        this.dispatch(PushEvents.Send, this.push.payload);\n    }\n    dispatch(type, payload) {\n        const event = this.parseEvent(type, payload);\n        this.channel.dispatch(event);\n    }\n    isJoinPush() {\n        return this.message === Phoenix.SocketMessages.Join;\n    }\n    parseEvent(type, payload) {\n        return {\n            topic: this.topic,\n            message: this.message,\n            payload,\n            type: this.parseEventType(type),\n        };\n    }\n    parseEventType(type) {\n        if (this.isJoinPush()) {\n            switch (type) {\n                case PushEvents.Send:\n                    return JoinEvents.Start;\n                case PushEvents.Success:\n                    return JoinEvents.Success;\n                case PushEvents.Error:\n                    return JoinEvents.Error;\n                case PushEvents.Timeout:\n                    return JoinEvents.Timeout;\n                default:\n                    throw new Error(`Unknown join event type: ${type}`);\n            }\n        }\n        return type;\n    }\n}\n//# sourceMappingURL=Push.js.map","import * as Native from \"phoenix\";\nimport { v4 as uuid } from \"uuid\";\nimport { HeartbeatEvents, JoinEvents, PushEvents, } from \"./Event\";\nimport { Push } from \"./Push\";\nimport { SocketEvents, } from \"./Socket\";\nvar JoinErrorReason;\n(function (JoinErrorReason) {\n    JoinErrorReason[\"UnmatchedTopic\"] = \"unmatched topic\";\n    JoinErrorReason[\"Unauthorized\"] = \"unauthorized\";\n})(JoinErrorReason || (JoinErrorReason = {}));\nexport var ChannelStatus;\n(function (ChannelStatus) {\n    ChannelStatus[\"NotInitialized\"] = \"NOT_INITIALIZED\";\n    ChannelStatus[\"Joining\"] = \"JOINING\";\n    ChannelStatus[\"Joined\"] = \"JOINED\";\n    ChannelStatus[\"JoinError\"] = \"JOIN_ERROR\";\n    ChannelStatus[\"Leaving\"] = \"LEAVING\";\n    ChannelStatus[\"Closed\"] = \"CLOSED\";\n    ChannelStatus[\"SocketError\"] = \"SOCKET_ERROR\";\n})(ChannelStatus || (ChannelStatus = {}));\nexport var SubscriberStatus;\n(function (SubscriberStatus) {\n    SubscriberStatus[\"Subscribed\"] = \"SUBSCRIBED\";\n    SubscriberStatus[\"Unsubscribed\"] = \"UNSUBSCRIBED\";\n})(SubscriberStatus || (SubscriberStatus = {}));\nexport class Channel {\n    constructor(channel, socket) {\n        this.channel = channel;\n        this.socket = socket;\n        this.pushes = new Map();\n        this.subscribers = new Map();\n        this.events = [];\n        this.status = ChannelStatus.NotInitialized;\n        this.joinPush = null;\n        this.lastSnapshot = null;\n        this.id = uuid();\n        this.topic = this.channel.topic;\n        this.channel.join = this.__join.bind(this);\n        this.socket.subscribe(this.id, (ev) => this.handleSocketEvent(ev));\n    }\n    subscribe(subscriberRef, callback) {\n        this.subscribers.set(subscriberRef, callback);\n        return () => this.subscribers.delete(subscriberRef);\n    }\n    unsubscribe(subscriberId) {\n        this.subscribers.delete(subscriberId);\n    }\n    snapshot(subscriberId) {\n        this.lastSnapshot = {\n            channelStatus: this.status,\n            hasSubscribers: this.subscribers.size > 0,\n            events: [...this.events],\n            pushes: Array.from(this.pushes.values()),\n            isSubscribed: this.subscribers.has(subscriberId),\n            socketSnapshot: this.socket.snapshot(this.id),\n        };\n        return this.lastSnapshot;\n    }\n    subscriberStatus(subscriberId) {\n        return this.subscribers.has(subscriberId)\n            ? SubscriberStatus.Subscribed\n            : SubscriberStatus.Unsubscribed;\n    }\n    leave() {\n        this.channel.leave();\n    }\n    dispatch(event) {\n        switch (event.type) {\n            case JoinEvents.Error:\n            case JoinEvents.Start:\n            case JoinEvents.Success:\n            case JoinEvents.Timeout:\n                this.handleJoinEvent(event);\n                break;\n            case PushEvents.Send:\n            case PushEvents.Error:\n            case PushEvents.Success:\n            case PushEvents.Timeout:\n                this.handlePushEvent(event);\n                break;\n        }\n        this.subscribers.values().forEach((dispatch) => dispatch(event));\n    }\n    handleSocketConnectError() { }\n    handleSocketEvent({ event, payload }) {\n        switch (event) {\n            case SocketEvents.AbnormalClose:\n            case SocketEvents.NormalClose:\n            case SocketEvents.Error:\n                this.status = ChannelStatus.Closed;\n                break;\n            case SocketEvents.Connecting:\n            case SocketEvents.Open:\n            case SocketEvents.Closing:\n            case HeartbeatEvents.Send:\n            case HeartbeatEvents.Reply:\n                break;\n        }\n        this.dispatch({\n            type: event,\n            topic: this.topic,\n            message: event,\n            payload,\n        });\n    }\n    handleJoinEvent(event) {\n        const joinStatuses = {\n            [JoinEvents.Start]: ChannelStatus.Joining,\n            [JoinEvents.Success]: ChannelStatus.Joined,\n            [JoinEvents.Timeout]: ChannelStatus.JoinError,\n            [JoinEvents.Error]: ChannelStatus.JoinError,\n        };\n        this.status = joinStatuses[event.type];\n        switch (event.type) {\n            case JoinEvents.Error:\n                return this.handleJoinError(event);\n            case JoinEvents.Timeout:\n                return this.handleJoinTimeout(event);\n            default:\n                return;\n        }\n    }\n    handlePushEvent(event) {\n        switch (event.type) {\n            case PushEvents.Send:\n                return;\n            case PushEvents.Error:\n                return;\n            case PushEvents.Success:\n                return;\n            case PushEvents.Timeout:\n                return;\n        }\n    }\n    handleJoinError(event) {\n        console.error(event.payload.reason, event);\n        if (event.payload.reason === JoinErrorReason.UnmatchedTopic) {\n            this.leave();\n        }\n    }\n    handleJoinTimeout(event) {\n        console.error(\"Join Timeout\", event);\n    }\n    joinOnce(timeout) {\n        if (this.joinPush) {\n            return this.joinPush;\n        }\n        return this.join(timeout);\n    }\n    join(timeout) {\n        const phoenixPush = Native.Channel.prototype.join.bind(this.channel)(timeout);\n        this.joinPush = this.handlePush(phoenixPush);\n        return this.joinPush;\n    }\n    __join(timeout) {\n        return this.join(timeout).push;\n    }\n    push(event, payload, timeout) {\n        const phoenixPush = Native.Channel.prototype.push.bind(this.channel)(event, payload, timeout);\n        const push = this.handlePush(phoenixPush);\n        return push;\n    }\n    __push(event, payload, timeout) {\n        return this.push(event, payload, timeout).push;\n    }\n    handlePush(phoenixPush) {\n        const push = new Push(phoenixPush, this);\n        this.pushes.set(push.ref, push);\n        this.dispatch({\n            type: PushEvents.Send,\n            topic: this.topic,\n            message: push.message,\n            payload: push.push.payload,\n        });\n        return push;\n    }\n}\n//# sourceMappingURL=Channel.js.map","import * as Native from \"phoenix\";\nimport { v4 as uuid } from \"uuid\";\nimport { Channel } from \"./Channel\";\nimport { HeartbeatEvents } from \"./Event\";\nexport var SocketStatus;\n(function (SocketStatus) {\n    SocketStatus[\"NotInitialized\"] = \"NOT_INITIALIZED\";\n    SocketStatus[\"Connecting\"] = \"CONNECTING\";\n    SocketStatus[\"Open\"] = \"OPEN\";\n    SocketStatus[\"Closing\"] = \"CLOSING\";\n    SocketStatus[\"Closed\"] = \"CLOSED\";\n    SocketStatus[\"ConnectionLost\"] = \"CONNECTION_LOST\";\n})(SocketStatus || (SocketStatus = {}));\nexport var SocketEvents;\n(function (SocketEvents) {\n    SocketEvents[\"Connecting\"] = \"SOCKET_CONNECTING\";\n    SocketEvents[\"Open\"] = \"SOCKET_OPEN\";\n    SocketEvents[\"Closing\"] = \"SOCKET_CLOSING\";\n    SocketEvents[\"NormalClose\"] = \"SOCKET_NORMAL_CLOSE\";\n    SocketEvents[\"AbnormalClose\"] = \"SOCKET_ABNORMAL_CLOSE\";\n    SocketEvents[\"Error\"] = \"SOCKET_ERROR\";\n})(SocketEvents || (SocketEvents = {}));\nexport var SocketCloseCodes;\n(function (SocketCloseCodes) {\n    SocketCloseCodes[SocketCloseCodes[\"Normal\"] = 1000] = \"Normal\";\n    SocketCloseCodes[SocketCloseCodes[\"GoingAway\"] = 1001] = \"GoingAway\";\n    SocketCloseCodes[SocketCloseCodes[\"ProtocolError\"] = 1002] = \"ProtocolError\";\n    SocketCloseCodes[SocketCloseCodes[\"UnsupportedData\"] = 1003] = \"UnsupportedData\";\n    SocketCloseCodes[SocketCloseCodes[\"NoStatus\"] = 1005] = \"NoStatus\";\n    SocketCloseCodes[SocketCloseCodes[\"Abnormal\"] = 1006] = \"Abnormal\";\n    SocketCloseCodes[SocketCloseCodes[\"InvalidData\"] = 1007] = \"InvalidData\";\n    SocketCloseCodes[SocketCloseCodes[\"PolicyViolation\"] = 1008] = \"PolicyViolation\";\n    SocketCloseCodes[SocketCloseCodes[\"TooBig\"] = 1009] = \"TooBig\";\n    SocketCloseCodes[SocketCloseCodes[\"MandatoryExtension\"] = 1010] = \"MandatoryExtension\";\n    SocketCloseCodes[SocketCloseCodes[\"ServerError\"] = 1011] = \"ServerError\";\n    SocketCloseCodes[SocketCloseCodes[\"ServiceRestart\"] = 1012] = \"ServiceRestart\";\n    SocketCloseCodes[SocketCloseCodes[\"TryAgainLater\"] = 1013] = \"TryAgainLater\";\n    SocketCloseCodes[SocketCloseCodes[\"BadGateway\"] = 1014] = \"BadGateway\";\n    SocketCloseCodes[SocketCloseCodes[\"TLSHandshake\"] = 1015] = \"TLSHandshake\";\n    SocketCloseCodes[SocketCloseCodes[\"Unknown\"] = -1] = \"Unknown\";\n})(SocketCloseCodes || (SocketCloseCodes = {}));\nexport class Socket {\n    constructor(url, options) {\n        this.url = url;\n        this.options = options;\n        this.subscribers = new Map();\n        this.changeSubscribers = new Map();\n        this.channels = new Map();\n        this.connectionStatus = SocketStatus.NotInitialized;\n        this.errors = [];\n        this.pushes = new Map();\n        this.conn = null;\n        this.id = uuid();\n        this.socket = new Native.Socket(url, options);\n        this.socket.push = this.push.bind(this);\n        this.socket.onClose((ev) => this.onClose(ev));\n        this.socket.onError((ev, transport, establishedConnections) => this.onError(ev, transport, establishedConnections));\n        this.socket.onMessage((msg) => this.onMessage(msg));\n        this.socket.onOpen(() => this.onOpen());\n        this.socket.channel = this.channelListener.bind(this);\n        this.socket.transportConnect = this.transportConnect.bind(this);\n    }\n    connect() {\n        if (this.connectionStatus === SocketStatus.NotInitialized) {\n            this.socket.connect();\n        }\n        return () => {\n            this.disconnect();\n        };\n    }\n    disconnect() {\n        this.updateConnectionStatus(SocketStatus.Closing, {\n            event: SocketEvents.Closing,\n            payload: undefined,\n        });\n        this.socket.disconnect();\n    }\n    channelListener(topic, params) {\n        const channel = this.getOrCreateChannel(topic, params);\n        return channel.channel;\n    }\n    getOrCreateChannel(topic, params) {\n        const existing = this.channels.get(topic);\n        if (existing) {\n            return existing;\n        }\n        const phxChannel = Native.Socket.prototype.channel.bind(this.socket)(topic, params);\n        const channel = new Channel(phxChannel, this);\n        this.channels.set(topic, channel);\n        return channel;\n    }\n    leaveChannel(topic) {\n        // TODO: do we need to force all subscribers to unsubscribe from the channel?\n        this.channels.delete(topic);\n    }\n    subscribe(subscriberId, dispatch) {\n        this.subscribers.set(subscriberId, dispatch);\n        return () => this.subscribers.delete(subscriberId);\n    }\n    currentSnapshot(subscriberId) {\n        return {\n            connectionStatus: this.connectionStatus,\n            channels: Array.from(this.channels.values()),\n            hasErrors: this.errors.length > 0,\n            hasSubscribers: this.subscribers.size > 0,\n            isSubscribed: this.subscribers.has(subscriberId),\n        };\n    }\n    static snapshotHasChanged(prev, current) {\n        return Object.keys(current).some((k) => {\n            const key = k;\n            switch (key) {\n                case \"connectionStatus\":\n                case \"hasErrors\":\n                case \"hasSubscribers\":\n                case \"isSubscribed\":\n                    return current[key] !== prev[key];\n                case \"channels\":\n                    return Socket.haveChannelsChanged(prev.channels, current.channels);\n            }\n        });\n    }\n    snapshot(subscriberId, prev) {\n        const current = this.currentSnapshot(subscriberId);\n        if (!prev) {\n            return current;\n        }\n        return Socket.snapshotHasChanged(prev, current) ? current : prev;\n    }\n    push(event) {\n        Native.Socket.prototype.push.bind(this.socket)(event);\n        this.handlePush(event);\n    }\n    handlePush(event) {\n        const topicPushes = this.pushes.get(event.topic) || new Map();\n        topicPushes.set(event.ref, event);\n        this.pushes.set(event.topic, topicPushes);\n    }\n    static haveChannelsChanged(prevChannels, currentChannels) {\n        if (prevChannels.length !== currentChannels.length) {\n            return true;\n        }\n        const prevSet = new Set(prevChannels.map((c) => c.id));\n        const currentSet = new Set(currentChannels.map((c) => c.id));\n        return prevSet.difference(currentSet).size > 0;\n    }\n    onOpen() {\n        this.updateConnectionStatus(SocketStatus.Open, {\n            event: SocketEvents.Open,\n            payload: undefined,\n        });\n    }\n    onClose(closeEvent) {\n        const [status, ev] = this.closedStatus(closeEvent.code);\n        const event = {\n            event: ev,\n            payload: {\n                event: closeEvent,\n                reason: (SocketCloseCodes[closeEvent.code] ||\n                    SocketCloseCodes.Unknown),\n                code: closeEvent.code,\n            },\n        };\n        if (event.event === SocketEvents.AbnormalClose) {\n            this.errors.push(event);\n        }\n        this.updateConnectionStatus(status, event);\n    }\n    closedStatus(code) {\n        if (code === SocketCloseCodes.Normal) {\n            return [SocketStatus.Closed, SocketEvents.NormalClose];\n        }\n        return [SocketStatus.ConnectionLost, SocketEvents.AbnormalClose];\n    }\n    onError(error, transport, establishedConnections) {\n        const event = {\n            event: SocketEvents.Error,\n            payload: {\n                error,\n                transport,\n                establishedConnections,\n            },\n        };\n        this.errors.push(event);\n        this.subscribers.forEach((dispatch) => dispatch(event));\n    }\n    onMessage(msg) {\n        if (msg.ref) {\n            const topicPushes = this.pushes.get(msg.topic);\n            if (topicPushes) {\n                const push = topicPushes.get(msg.ref);\n                if (push) {\n                    topicPushes.delete(msg.ref);\n                    if (push.topic === \"phoenix\" && push.event === \"heartbeat\") {\n                        this.subscribers.forEach((dispatch) => {\n                            dispatch({\n                                event: HeartbeatEvents.Reply,\n                                payload: msg.payload,\n                            });\n                        });\n                    }\n                }\n                if (topicPushes.size === 0) {\n                    this.pushes.delete(msg.topic);\n                }\n            }\n        }\n    }\n    transportConnect() {\n        this.errors = [];\n        this.updateConnectionStatus(SocketStatus.Connecting, {\n            event: SocketEvents.Connecting,\n            payload: undefined,\n        });\n        // @ts-expect-error transportConnect does exist on the socket class\n        Native.Socket.prototype.transportConnect.bind(this.socket)();\n        this.conn = this.socket.conn;\n        this.conn.addEventListener(\"error\", (ev) => {\n            console.error(\"WEBSOCKET_ERROR_EVENT\", ev, this.socket);\n        });\n    }\n    updateConnectionStatus(status, event) {\n        if (status !== this.connectionStatus) {\n            this.connectionStatus = status;\n            this.subscribers.forEach((dispatch) => {\n                dispatch(event);\n            });\n        }\n    }\n}\n//# sourceMappingURL=Socket.js.map","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, memo, useEffect, useMemo, useReducer, useRef, } from \"react\";\nimport { Socket, SocketEvents, SocketStatus } from \"../classes/Socket\";\nexport const SocketContext = createContext({\n    connectionStatus: SocketStatus.NotInitialized,\n    getOrCreateChannel: (_topic, _params) => {\n        throw new Error(\"SocketProvider not initialized!\");\n    },\n});\nfunction parseSocketError({ event, payload }) {\n    switch (event) {\n        case SocketEvents.Error:\n        case SocketEvents.AbnormalClose:\n            return payload;\n        default:\n            return null;\n    }\n}\nfunction reducer(state, { event, payload }, socket) {\n    return {\n        ...state,\n        connectionStatus: socket.connectionStatus,\n        error: parseSocketError({ event, payload })\n    };\n}\nexport const SocketProvider = memo(function SocketProvider({ children, url, options }) {\n    const socket = useRef(new Socket(url, options));\n    const subscriberRef = useRef(window.crypto.randomUUID());\n    const [state, dispatch] = useReducer((state, event) => reducer(state, event, socket.current), { connectionStatus: socket.current.connectionStatus, error: null });\n    socket.current.subscribe(subscriberRef.current, dispatch);\n    useEffect(() => {\n        if (socket.current.connectionStatus !== SocketStatus.NotInitialized) {\n            throw new Error(\"Socket already initialized!\");\n        }\n        const disconnect = socket.current.connect();\n        return () => {\n            console.error(\"SocketProvider unmounted. Disconnecting socket.\");\n            disconnect();\n        };\n    }, []);\n    useEffect(() => {\n        if (url !== socket.current.url) {\n            console.error(`\n        Socket URL changed from ${socket.current.url} to ${url}.\n        ReactPhoenixChannels expects the socket URL not to change.\n        This change will be ignored and the socket will continue to\n        use the URL passed at initialization. (${socket.current.url})\n        `);\n        }\n    }, [url]);\n    useEffect(() => {\n        const hasChanged = Object.keys(options).some((key) => {\n            return options[key] !== socket.current.options[key];\n        });\n        if (hasChanged) {\n            console.error(`\n        Ignoring unexpected Socket options change:\n        initial: ${JSON.stringify(socket.current.options)}\n        updated options: ${JSON.stringify(options)}.\n\n        ReactPhoenixChannels expects the socket options to be memoized.\n        This change will be ignored and the socket will continue to\n        use the options passed at initialization.\n        `);\n        }\n    }, [options]);\n    const context = useMemo(() => {\n        return {\n            ...state,\n            getOrCreateChannel: (topic, params) => {\n                if (!socket.current) {\n                    throw new Error(\"socket not initialized!\");\n                }\n                return socket.current.getOrCreateChannel(topic, params);\n            },\n        };\n    }, [state]);\n    return (_jsx(SocketContext.Provider, { value: context, children: children }));\n});\n//# sourceMappingURL=SocketProvider.js.map","import { useContext, useEffect, useMemo, useReducer, useRef } from \"react\";\nimport { ChannelStatus, SubscriberStatus } from \"../classes/Channel\";\nimport { SocketContext } from \"../providers/SocketProvider\";\nexport function useChannel({ topic, onEvent, initialState, ...options }) {\n    const socket = useContext(SocketContext);\n    const channel = useRef(socket.getOrCreateChannel(topic, options));\n    const subscriberId = useRef(window.crypto.randomUUID());\n    const topicRef = useRef(topic);\n    topicRef.current = topic;\n    const [state, dispatch] = useReducer(onEvent, initialState);\n    useEffect(() => {\n        var _a, _b;\n        const unsubscribe = (_a = channel.current) === null || _a === void 0 ? void 0 : _a.subscribe(subscriberId.current, dispatch);\n        if (((_b = channel.current) === null || _b === void 0 ? void 0 : _b.status) === ChannelStatus.NotInitialized) {\n            channel.current.joinOnce(5000);\n        }\n        return () => {\n            unsubscribe === null || unsubscribe === void 0 ? void 0 : unsubscribe();\n        };\n    }, []);\n    return useMemo(() => {\n        return {\n            state,\n            push: (message, payload) => {\n                if (!channel.current) {\n                    throw new Error(`${topicRef.current} channel is not initialized!`);\n                }\n                channel.current.push(message, payload);\n            },\n            unsubscribe: () => {\n                var _a;\n                (_a = channel.current) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriberId.current);\n            },\n            socketStatus: () => {\n                return socket.connectionStatus;\n            },\n            channelStatus: () => {\n                return channel.current.status;\n            },\n            subscriptionStatus: () => {\n                return channel.current\n                    ? channel.current.subscriberStatus(subscriberId.current)\n                    : SubscriberStatus.Unsubscribed;\n            },\n        };\n    }, [state, socket]);\n}\n//# sourceMappingURL=useChannel.js.map"],"names":["SocketStatus","Phoenix.SocketMessages","uuid","Native","createContext","memo","useRef","useReducer","useEffect","useMemo","_jsx","useContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,IAAI,UAAU;AACrB,CAAC,UAAU,UAAU,EAAE;AACvB,IAAI,UAAU,CAAC,MAAM,CAAC,GAAG,WAAW;AACpC,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,cAAc;AAC1C,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,cAAc;AAC1C,IAAI,UAAU,CAAC,OAAO,CAAC,GAAG,YAAY;AACtC,CAAC,EAAE,UAAU,KAAK,UAAU,GAAG,EAAE,CAAC,CAAC;AAC5B,IAAI,eAAe;AAC1B,CAAC,UAAU,eAAe,EAAE;AAC5B,IAAI,eAAe,CAAC,MAAM,CAAC,GAAG,gBAAgB;AAC9C,IAAI,eAAe,CAAC,OAAO,CAAC,GAAG,iBAAiB;AAChD,CAAC,EAAE,eAAe,KAAK,eAAe,GAAG,EAAE,CAAC,CAAC;AACtC,IAAI,UAAU;AACrB,CAAC,UAAU,UAAU,EAAE;AACvB,IAAI,UAAU,CAAC,OAAO,CAAC,GAAG,YAAY;AACtC,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,cAAc;AAC1C,IAAI,UAAU,CAAC,OAAO,CAAC,GAAG,YAAY;AACtC,IAAI,UAAU,CAAC,SAAS,CAAC,GAAG,cAAc;AAC1C,CAAC,EAAE,UAAU,KAAK,UAAU,GAAG,EAAE,CAAC,CAAC;AAC5B,IAAI,aAAa;AACxB,CAAC,UAAU,aAAa,EAAE;AAC1B,IAAI,aAAa,CAAC,SAAS,CAAC,GAAG,iBAAiB;AAChD,CAAC,EAAE,aAAa,KAAK,aAAa,GAAG,EAAE,CAAC,CAAC;;ACtBlC,IAAI,OAAO;AAClB,CAAC,UAAU,OAAO,EAAE;AACpB,IAAI,OAAO,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;AACjD,CAAC,EAAE,OAAO,KAAK,OAAO,GAAG,EAAE,CAAC,CAAC;;ACFtB,IAAI,cAAc;AACzB,CAAC,UAAU,cAAc,EAAE;AAC3B,IAAI,cAAc,CAAC,MAAM,CAAC,GAAG,UAAU;AACvC,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,WAAW;AACzC,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,WAAW;AACzC,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,WAAW;AACzC,IAAI,cAAc,CAAC,OAAO,CAAC,GAAG,WAAW;AACzC,IAAI,cAAc,CAAC,WAAW,CAAC,GAAG,WAAW;AAC7C,CAAC,EAAE,cAAc,KAAK,cAAc,GAAG,EAAE,CAAC,CAAC;AACpC,IAAIA,cAAY;AACvB,CAAC,UAAU,YAAY,EAAE;AACzB,IAAI,YAAY,CAAC,YAAY,CAAC,GAAG,YAAY;AAC7C,IAAI,YAAY,CAAC,MAAM,CAAC,GAAG,MAAM;AACjC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,SAAS;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACrC,CAAC,EAAEA,cAAY,KAAKA,cAAY,GAAG,EAAE,CAAC,CAAC;;AChBhC,IAAI,YAAY;AACvB,CAAC,UAAU,YAAY,EAAE;AACzB,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACrC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,SAAS;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACrC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,SAAS;AACvC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,SAAS;AACvC,CAAC,EAAE,YAAY,KAAK,YAAY,GAAG,EAAE,CAAC,CAAC;;ACPhC,IAAI,QAAQ;AACnB,CAAC,UAAU,QAAQ,EAAE;AACrB,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI;AACzB,IAAI,QAAQ,CAAC,OAAO,CAAC,GAAG,OAAO;AAC/B,IAAI,QAAQ,CAAC,SAAS,CAAC,GAAG,SAAS;AACnC,CAAC,EAAE,QAAQ,KAAK,QAAQ,GAAG,EAAE,CAAC,CAAC;;ACHxB,MAAM,IAAI,CAAC;AAClB,IAAI,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE;AAC/B,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI;AACxB,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI;AACzB,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM;AAC5B,YAAY,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC;AACrD,SAAS;AACT,QAAQ,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG;AAC3B,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;AACrC,QAAQ,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK;AAClC,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK;AACjC,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AACpD,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC7C,QAAQ,IAAI,CAAC;AACb,aAAa,OAAO,CAAC,IAAI,EAAE,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE,QAAQ,CAAC;AACpF,aAAa,OAAO,CAAC,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC;AAC/E,aAAa,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;AACpF;AACA,IAAI,IAAI,GAAG;AACX,QAAQ,IAAI,CAAC,MAAM,EAAE;AACrB,QAAQ,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;AACzD;AACA,IAAI,QAAQ,CAAC,IAAI,EAAE,OAAO,EAAE;AAC5B,QAAQ,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,CAAC;AACpD,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;AACpC;AACA,IAAI,UAAU,GAAG;AACjB,QAAQ,OAAO,IAAI,CAAC,OAAO,KAAKC,cAAsB,CAAC,IAAI;AAC3D;AACA,IAAI,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE;AAC9B,QAAQ,OAAO;AACf,YAAY,KAAK,EAAE,IAAI,CAAC,KAAK;AAC7B,YAAY,OAAO,EAAE,IAAI,CAAC,OAAO;AACjC,YAAY,OAAO;AACnB,YAAY,IAAI,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AAC3C,SAAS;AACT;AACA,IAAI,cAAc,CAAC,IAAI,EAAE;AACzB,QAAQ,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;AAC/B,YAAY,QAAQ,IAAI;AACxB,gBAAgB,KAAK,UAAU,CAAC,IAAI;AACpC,oBAAoB,OAAO,UAAU,CAAC,KAAK;AAC3C,gBAAgB,KAAK,UAAU,CAAC,OAAO;AACvC,oBAAoB,OAAO,UAAU,CAAC,OAAO;AAC7C,gBAAgB,KAAK,UAAU,CAAC,KAAK;AACrC,oBAAoB,OAAO,UAAU,CAAC,KAAK;AAC3C,gBAAgB,KAAK,UAAU,CAAC,OAAO;AACvC,oBAAoB,OAAO,UAAU,CAAC,OAAO;AAC7C,gBAAgB;AAChB,oBAAoB,MAAM,IAAI,KAAK,CAAC,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC,CAAC;AACvE;AACA;AACA,QAAQ,OAAO,IAAI;AACnB;AACA;;ACpDA,IAAI,eAAe;AACnB,CAAC,UAAU,eAAe,EAAE;AAC5B,IAAI,eAAe,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;AACzD,IAAI,eAAe,CAAC,cAAc,CAAC,GAAG,cAAc;AACpD,CAAC,EAAE,eAAe,KAAK,eAAe,GAAG,EAAE,CAAC,CAAC;AACtC,IAAI,aAAa;AACxB,CAAC,UAAU,aAAa,EAAE;AAC1B,IAAI,aAAa,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;AACvD,IAAI,aAAa,CAAC,SAAS,CAAC,GAAG,SAAS;AACxC,IAAI,aAAa,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACtC,IAAI,aAAa,CAAC,WAAW,CAAC,GAAG,YAAY;AAC7C,IAAI,aAAa,CAAC,SAAS,CAAC,GAAG,SAAS;AACxC,IAAI,aAAa,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACtC,IAAI,aAAa,CAAC,aAAa,CAAC,GAAG,cAAc;AACjD,CAAC,EAAE,aAAa,KAAK,aAAa,GAAG,EAAE,CAAC,CAAC;AAClC,IAAI,gBAAgB;AAC3B,CAAC,UAAU,gBAAgB,EAAE;AAC7B,IAAI,gBAAgB,CAAC,YAAY,CAAC,GAAG,YAAY;AACjD,IAAI,gBAAgB,CAAC,cAAc,CAAC,GAAG,cAAc;AACrD,CAAC,EAAE,gBAAgB,KAAK,gBAAgB,GAAG,EAAE,CAAC,CAAC;AACxC,MAAM,OAAO,CAAC;AACrB,IAAI,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE;AACjC,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM;AAC5B,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE;AAC/B,QAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE;AACpC,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE;AACxB,QAAQ,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,cAAc;AAClD,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI;AAC5B,QAAQ,IAAI,CAAC,YAAY,GAAG,IAAI;AAChC,QAAQ,IAAI,CAAC,EAAE,GAAGC,OAAI,EAAE;AACxB,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK;AACvC,QAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;AAClD,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;AAC1E;AACA,IAAI,SAAS,CAAC,aAAa,EAAE,QAAQ,EAAE;AACvC,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC;AACrD,QAAQ,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,aAAa,CAAC;AAC3D;AACA,IAAI,WAAW,CAAC,YAAY,EAAE;AAC9B,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC;AAC7C;AACA,IAAI,QAAQ,CAAC,YAAY,EAAE;AAC3B,QAAQ,IAAI,CAAC,YAAY,GAAG;AAC5B,YAAY,aAAa,EAAE,IAAI,CAAC,MAAM;AACtC,YAAY,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;AACrD,YAAY,MAAM,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;AACpC,YAAY,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;AACpD,YAAY,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC;AAC5D,YAAY,cAAc,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;AACzD,SAAS;AACT,QAAQ,OAAO,IAAI,CAAC,YAAY;AAChC;AACA,IAAI,gBAAgB,CAAC,YAAY,EAAE;AACnC,QAAQ,OAAO,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY;AAChD,cAAc,gBAAgB,CAAC;AAC/B,cAAc,gBAAgB,CAAC,YAAY;AAC3C;AACA,IAAI,KAAK,GAAG;AACZ,QAAQ,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;AAC5B;AACA,IAAI,QAAQ,CAAC,KAAK,EAAE;AACpB,QAAQ,QAAQ,KAAK,CAAC,IAAI;AAC1B,YAAY,KAAK,UAAU,CAAC,KAAK;AACjC,YAAY,KAAK,UAAU,CAAC,KAAK;AACjC,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,gBAAgB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;AAC3C,gBAAgB;AAChB,YAAY,KAAK,UAAU,CAAC,IAAI;AAChC,YAAY,KAAK,UAAU,CAAC,KAAK;AACjC,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,gBAAgB,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;AAC3C,gBAAgB;AAChB;AACA,QAAQ,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,KAAK,CAAC,CAAC;AACxE;AACA,IAAI,wBAAwB,GAAG;AAC/B,IAAI,iBAAiB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC1C,QAAQ,QAAQ,KAAK;AACrB,YAAY,KAAK,YAAY,CAAC,aAAa;AAC3C,YAAY,KAAK,YAAY,CAAC,WAAW;AACzC,YAAY,KAAK,YAAY,CAAC,KAAK;AACnC,gBAAgB,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM;AAClD,gBAAgB;AAChB,YAAY,KAAK,YAAY,CAAC,UAAU;AACxC,YAAY,KAAK,YAAY,CAAC,IAAI;AAClC,YAAY,KAAK,YAAY,CAAC,OAAO;AACrC,YAAY,KAAK,eAAe,CAAC,IAAI;AACrC,YAAY,KAAK,eAAe,CAAC,KAAK;AACtC,gBAAgB;AAChB;AACA,QAAQ,IAAI,CAAC,QAAQ,CAAC;AACtB,YAAY,IAAI,EAAE,KAAK;AACvB,YAAY,KAAK,EAAE,IAAI,CAAC,KAAK;AAC7B,YAAY,OAAO,EAAE,KAAK;AAC1B,YAAY,OAAO;AACnB,SAAS,CAAC;AACV;AACA,IAAI,eAAe,CAAC,KAAK,EAAE;AAC3B,QAAQ,MAAM,YAAY,GAAG;AAC7B,YAAY,CAAC,UAAU,CAAC,KAAK,GAAG,aAAa,CAAC,OAAO;AACrD,YAAY,CAAC,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC,MAAM;AACtD,YAAY,CAAC,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC,SAAS;AACzD,YAAY,CAAC,UAAU,CAAC,KAAK,GAAG,aAAa,CAAC,SAAS;AACvD,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC;AAC9C,QAAQ,QAAQ,KAAK,CAAC,IAAI;AAC1B,YAAY,KAAK,UAAU,CAAC,KAAK;AACjC,gBAAgB,OAAO,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC;AAClD,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,gBAAgB,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;AACpD,YAAY;AACZ,gBAAgB;AAChB;AACA;AACA,IAAI,eAAe,CAAC,KAAK,EAAE;AAC3B,QAAQ,QAAQ,KAAK,CAAC,IAAI;AAC1B,YAAY,KAAK,UAAU,CAAC,IAAI;AAChC,gBAAgB;AAChB,YAAY,KAAK,UAAU,CAAC,KAAK;AACjC,gBAAgB;AAChB,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,gBAAgB;AAChB,YAAY,KAAK,UAAU,CAAC,OAAO;AACnC,gBAAgB;AAChB;AACA;AACA,IAAI,eAAe,CAAC,KAAK,EAAE;AAC3B,QAAQ,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;AAClD,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,KAAK,eAAe,CAAC,cAAc,EAAE;AACrE,YAAY,IAAI,CAAC,KAAK,EAAE;AACxB;AACA;AACA,IAAI,iBAAiB,CAAC,KAAK,EAAE;AAC7B,QAAQ,OAAO,CAAC,KAAK,CAAC,cAAc,EAAE,KAAK,CAAC;AAC5C;AACA,IAAI,QAAQ,CAAC,OAAO,EAAE;AACtB,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B,YAAY,OAAO,IAAI,CAAC,QAAQ;AAChC;AACA,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC;AACjC;AACA,IAAI,IAAI,CAAC,OAAO,EAAE;AAClB,QAAQ,MAAM,WAAW,GAAGC,iBAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC;AACrF,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;AACpD,QAAQ,OAAO,IAAI,CAAC,QAAQ;AAC5B;AACA,IAAI,MAAM,CAAC,OAAO,EAAE;AACpB,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI;AACtC;AACA,IAAI,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;AAClC,QAAQ,MAAM,WAAW,GAAGA,iBAAM,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC;AACrG,QAAQ,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC;AACjD,QAAQ,OAAO,IAAI;AACnB;AACA,IAAI,MAAM,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE;AACpC,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,IAAI;AACtD;AACA,IAAI,UAAU,CAAC,WAAW,EAAE;AAC5B,QAAQ,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC;AAChD,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC;AACvC,QAAQ,IAAI,CAAC,QAAQ,CAAC;AACtB,YAAY,IAAI,EAAE,UAAU,CAAC,IAAI;AACjC,YAAY,KAAK,EAAE,IAAI,CAAC,KAAK;AAC7B,YAAY,OAAO,EAAE,IAAI,CAAC,OAAO;AACjC,YAAY,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO;AACtC,SAAS,CAAC;AACV,QAAQ,OAAO,IAAI;AACnB;AACA;;AC5KO,IAAI,YAAY;AACvB,CAAC,UAAU,YAAY,EAAE;AACzB,IAAI,YAAY,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;AACtD,IAAI,YAAY,CAAC,YAAY,CAAC,GAAG,YAAY;AAC7C,IAAI,YAAY,CAAC,MAAM,CAAC,GAAG,MAAM;AACjC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,SAAS;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,QAAQ;AACrC,IAAI,YAAY,CAAC,gBAAgB,CAAC,GAAG,iBAAiB;AACtD,CAAC,EAAE,YAAY,KAAK,YAAY,GAAG,EAAE,CAAC,CAAC;AAChC,IAAI,YAAY;AACvB,CAAC,UAAU,YAAY,EAAE;AACzB,IAAI,YAAY,CAAC,YAAY,CAAC,GAAG,mBAAmB;AACpD,IAAI,YAAY,CAAC,MAAM,CAAC,GAAG,aAAa;AACxC,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,gBAAgB;AAC9C,IAAI,YAAY,CAAC,aAAa,CAAC,GAAG,qBAAqB;AACvD,IAAI,YAAY,CAAC,eAAe,CAAC,GAAG,uBAAuB;AAC3D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,cAAc;AAC1C,CAAC,EAAE,YAAY,KAAK,YAAY,GAAG,EAAE,CAAC,CAAC;AAChC,IAAI,gBAAgB;AAC3B,CAAC,UAAU,gBAAgB,EAAE;AAC7B,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,GAAG,QAAQ;AAClE,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,GAAG,WAAW;AACxE,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,GAAG,eAAe;AAChF,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,GAAG,iBAAiB;AACpF,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,GAAG,UAAU;AACtE,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,GAAG,UAAU;AACtE,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,aAAa;AAC5E,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,GAAG,iBAAiB;AACpF,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,GAAG,QAAQ;AAClE,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,GAAG,oBAAoB;AAC1F,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,aAAa;AAC5E,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,GAAG,gBAAgB;AAClF,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,GAAG,eAAe;AAChF,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,GAAG,YAAY;AAC1E,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC,GAAG,cAAc;AAC9E,IAAI,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,GAAG,SAAS;AAClE,CAAC,EAAE,gBAAgB,KAAK,gBAAgB,GAAG,EAAE,CAAC,CAAC;AACxC,MAAM,MAAM,CAAC;AACpB,IAAI,WAAW,CAAC,GAAG,EAAE,OAAO,EAAE;AAC9B,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG;AACtB,QAAQ,IAAI,CAAC,OAAO,GAAG,OAAO;AAC9B,QAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE;AACpC,QAAQ,IAAI,CAAC,iBAAiB,GAAG,IAAI,GAAG,EAAE;AAC1C,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAAE;AACjC,QAAQ,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,cAAc;AAC3D,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE;AACxB,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,EAAE;AAC/B,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI;AACxB,QAAQ,IAAI,CAAC,EAAE,GAAGD,OAAI,EAAE;AACxB,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAIC,iBAAM,CAAC,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC;AACrD,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;AAC/C,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACrD,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,sBAAsB,KAAK,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,SAAS,EAAE,sBAAsB,CAAC,CAAC;AAC3H,QAAQ,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;AAC3D,QAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;AAC/C,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC;AAC7D,QAAQ,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;AACvE;AACA,IAAI,OAAO,GAAG;AACd,QAAQ,IAAI,IAAI,CAAC,gBAAgB,KAAK,YAAY,CAAC,cAAc,EAAE;AACnE,YAAY,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AACjC;AACA,QAAQ,OAAO,MAAM;AACrB,YAAY,IAAI,CAAC,UAAU,EAAE;AAC7B,SAAS;AACT;AACA,IAAI,UAAU,GAAG;AACjB,QAAQ,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,OAAO,EAAE;AAC1D,YAAY,KAAK,EAAE,YAAY,CAAC,OAAO;AACvC,YAAY,OAAO,EAAE,SAAS;AAC9B,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;AAChC;AACA,IAAI,eAAe,CAAC,KAAK,EAAE,MAAM,EAAE;AACnC,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC;AAC9D,QAAQ,OAAO,OAAO,CAAC,OAAO;AAC9B;AACA,IAAI,kBAAkB,CAAC,KAAK,EAAE,MAAM,EAAE;AACtC,QAAQ,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;AACjD,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,OAAO,QAAQ;AAC3B;AACA,QAAQ,MAAM,UAAU,GAAGA,iBAAM,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,MAAM,CAAC;AAC3F,QAAQ,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC;AACrD,QAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,EAAE,OAAO,CAAC;AACzC,QAAQ,OAAO,OAAO;AACtB;AACA,IAAI,YAAY,CAAC,KAAK,EAAE;AACxB;AACA,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC;AACnC;AACA,IAAI,SAAS,CAAC,YAAY,EAAE,QAAQ,EAAE;AACtC,QAAQ,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,EAAE,QAAQ,CAAC;AACpD,QAAQ,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC;AAC1D;AACA,IAAI,eAAe,CAAC,YAAY,EAAE;AAClC,QAAQ,OAAO;AACf,YAAY,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;AACnD,YAAY,QAAQ,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;AACxD,YAAY,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC;AAC7C,YAAY,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;AACrD,YAAY,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC;AAC5D,SAAS;AACT;AACA,IAAI,OAAO,kBAAkB,CAAC,IAAI,EAAE,OAAO,EAAE;AAC7C,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;AAChD,YAAY,MAAM,GAAG,GAAG,CAAC;AACzB,YAAY,QAAQ,GAAG;AACvB,gBAAgB,KAAK,kBAAkB;AACvC,gBAAgB,KAAK,WAAW;AAChC,gBAAgB,KAAK,gBAAgB;AACrC,gBAAgB,KAAK,cAAc;AACnC,oBAAoB,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC;AACrD,gBAAgB,KAAK,UAAU;AAC/B,oBAAoB,OAAO,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC;AACtF;AACA,SAAS,CAAC;AACV;AACA,IAAI,QAAQ,CAAC,YAAY,EAAE,IAAI,EAAE;AACjC,QAAQ,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC;AAC1D,QAAQ,IAAI,CAAC,IAAI,EAAE;AACnB,YAAY,OAAO,OAAO;AAC1B;AACA,QAAQ,OAAO,MAAM,CAAC,kBAAkB,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,OAAO,GAAG,IAAI;AACxE;AACA,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQA,iBAAM,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC;AAC7D,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC;AAC9B;AACA,IAAI,UAAU,CAAC,KAAK,EAAE;AACtB,QAAQ,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,GAAG,EAAE;AACrE,QAAQ,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC;AACzC,QAAQ,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,WAAW,CAAC;AACjD;AACA,IAAI,OAAO,mBAAmB,CAAC,YAAY,EAAE,eAAe,EAAE;AAC9D,QAAQ,IAAI,YAAY,CAAC,MAAM,KAAK,eAAe,CAAC,MAAM,EAAE;AAC5D,YAAY,OAAO,IAAI;AACvB;AACA,QAAQ,MAAM,OAAO,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC9D,QAAQ,MAAM,UAAU,GAAG,IAAI,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACpE,QAAQ,OAAO,OAAO,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,GAAG,CAAC;AACtD;AACA,IAAI,MAAM,GAAG;AACb,QAAQ,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,IAAI,EAAE;AACvD,YAAY,KAAK,EAAE,YAAY,CAAC,IAAI;AACpC,YAAY,OAAO,EAAE,SAAS;AAC9B,SAAS,CAAC;AACV;AACA,IAAI,OAAO,CAAC,UAAU,EAAE;AACxB,QAAQ,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC;AAC/D,QAAQ,MAAM,KAAK,GAAG;AACtB,YAAY,KAAK,EAAE,EAAE;AACrB,YAAY,OAAO,EAAE;AACrB,gBAAgB,KAAK,EAAE,UAAU;AACjC,gBAAgB,MAAM,GAAG,gBAAgB,CAAC,UAAU,CAAC,IAAI,CAAC;AAC1D,oBAAoB,gBAAgB,CAAC,OAAO,CAAC;AAC7C,gBAAgB,IAAI,EAAE,UAAU,CAAC,IAAI;AACrC,aAAa;AACb,SAAS;AACT,QAAQ,IAAI,KAAK,CAAC,KAAK,KAAK,YAAY,CAAC,aAAa,EAAE;AACxD,YAAY,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AACnC;AACA,QAAQ,IAAI,CAAC,sBAAsB,CAAC,MAAM,EAAE,KAAK,CAAC;AAClD;AACA,IAAI,YAAY,CAAC,IAAI,EAAE;AACvB,QAAQ,IAAI,IAAI,KAAK,gBAAgB,CAAC,MAAM,EAAE;AAC9C,YAAY,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,CAAC,WAAW,CAAC;AAClE;AACA,QAAQ,OAAO,CAAC,YAAY,CAAC,cAAc,EAAE,YAAY,CAAC,aAAa,CAAC;AACxE;AACA,IAAI,OAAO,CAAC,KAAK,EAAE,SAAS,EAAE,sBAAsB,EAAE;AACtD,QAAQ,MAAM,KAAK,GAAG;AACtB,YAAY,KAAK,EAAE,YAAY,CAAC,KAAK;AACrC,YAAY,OAAO,EAAE;AACrB,gBAAgB,KAAK;AACrB,gBAAgB,SAAS;AACzB,gBAAgB,sBAAsB;AACtC,aAAa;AACb,SAAS;AACT,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/B,QAAQ,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC/D;AACA,IAAI,SAAS,CAAC,GAAG,EAAE;AACnB,QAAQ,IAAI,GAAG,CAAC,GAAG,EAAE;AACrB,YAAY,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC;AAC1D,YAAY,IAAI,WAAW,EAAE;AAC7B,gBAAgB,MAAM,IAAI,GAAG,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC;AACrD,gBAAgB,IAAI,IAAI,EAAE;AAC1B,oBAAoB,WAAW,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC;AAC/C,oBAAoB,IAAI,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,CAAC,KAAK,KAAK,WAAW,EAAE;AAChF,wBAAwB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;AAC/D,4BAA4B,QAAQ,CAAC;AACrC,gCAAgC,KAAK,EAAE,eAAe,CAAC,KAAK;AAC5D,gCAAgC,OAAO,EAAE,GAAG,CAAC,OAAO;AACpD,6BAA6B,CAAC;AAC9B,yBAAyB,CAAC;AAC1B;AACA;AACA,gBAAgB,IAAI,WAAW,CAAC,IAAI,KAAK,CAAC,EAAE;AAC5C,oBAAoB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC;AACjD;AACA;AACA;AACA;AACA,IAAI,gBAAgB,GAAG;AACvB,QAAQ,IAAI,CAAC,MAAM,GAAG,EAAE;AACxB,QAAQ,IAAI,CAAC,sBAAsB,CAAC,YAAY,CAAC,UAAU,EAAE;AAC7D,YAAY,KAAK,EAAE,YAAY,CAAC,UAAU;AAC1C,YAAY,OAAO,EAAE,SAAS;AAC9B,SAAS,CAAC;AACV;AACA,QAAQA,iBAAM,CAAC,MAAM,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;AACpE,QAAQ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI;AACpC,QAAQ,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK;AACpD,YAAY,OAAO,CAAC,KAAK,CAAC,uBAAuB,EAAE,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC;AACnE,SAAS,CAAC;AACV;AACA,IAAI,sBAAsB,CAAC,MAAM,EAAE,KAAK,EAAE;AAC1C,QAAQ,IAAI,MAAM,KAAK,IAAI,CAAC,gBAAgB,EAAE;AAC9C,YAAY,IAAI,CAAC,gBAAgB,GAAG,MAAM;AAC1C,YAAY,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,QAAQ,KAAK;AACnD,gBAAgB,QAAQ,CAAC,KAAK,CAAC;AAC/B,aAAa,CAAC;AACd;AACA;AACA;;AClOY,MAAC,aAAa,GAAGC,mBAAa,CAAC;AAC3C,IAAI,gBAAgB,EAAE,YAAY,CAAC,cAAc;AACjD,IAAI,kBAAkB,EAAE,CAAC,MAAM,EAAE,OAAO,KAAK;AAC7C,QAAQ,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC;AAC1D,KAAK;AACL,CAAC;AACD,SAAS,gBAAgB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC9C,IAAI,QAAQ,KAAK;AACjB,QAAQ,KAAK,YAAY,CAAC,KAAK;AAC/B,QAAQ,KAAK,YAAY,CAAC,aAAa;AACvC,YAAY,OAAO,OAAO;AAC1B,QAAQ;AACR,YAAY,OAAO,IAAI;AACvB;AACA;AACA,SAAS,OAAO,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE;AACpD,IAAI,OAAO;AACX,QAAQ,GAAG,KAAK;AAChB,QAAQ,gBAAgB,EAAE,MAAM,CAAC,gBAAgB;AACjD,QAAQ,KAAK,EAAE,gBAAgB,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;AAClD,KAAK;AACL;AACY,MAAC,cAAc,GAAGC,UAAI,CAAC,SAAS,cAAc,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE;AACvF,IAAI,MAAM,MAAM,GAAGC,YAAM,CAAC,IAAI,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AACnD,IAAI,MAAM,aAAa,GAAGA,YAAM,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;AAC5D,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGC,gBAAU,CAAC,CAAC,KAAK,EAAE,KAAK,KAAK,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE,EAAE,gBAAgB,EAAE,MAAM,CAAC,OAAO,CAAC,gBAAgB,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AACrK,IAAI,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC;AAC7D,IAAIC,eAAS,CAAC,MAAM;AACpB,QAAQ,IAAI,MAAM,CAAC,OAAO,CAAC,gBAAgB,KAAK,YAAY,CAAC,cAAc,EAAE;AAC7E,YAAY,MAAM,IAAI,KAAK,CAAC,6BAA6B,CAAC;AAC1D;AACA,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE;AACnD,QAAQ,OAAO,MAAM;AACrB,YAAY,OAAO,CAAC,KAAK,CAAC,iDAAiD,CAAC;AAC5E,YAAY,UAAU,EAAE;AACxB,SAAS;AACT,KAAK,EAAE,EAAE,CAAC;AACV,IAAIA,eAAS,CAAC,MAAM;AACpB,QAAQ,IAAI,GAAG,KAAK,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE;AACxC,YAAY,OAAO,CAAC,KAAK,CAAC;AAC1B,gCAAgC,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC;AAC/D;AACA;AACA,+CAA+C,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;AACpE,QAAQ,CAAC,CAAC;AACV;AACA,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC;AACb,IAAIA,eAAS,CAAC,MAAM;AACpB,QAAQ,MAAM,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK;AAC9D,YAAY,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC;AAC/D,SAAS,CAAC;AACV,QAAQ,IAAI,UAAU,EAAE;AACxB,YAAY,OAAO,CAAC,KAAK,CAAC;AAC1B;AACA,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC;AACzD,yBAAyB,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;;AAEnD;AACA;AACA;AACA,QAAQ,CAAC,CAAC;AACV;AACA,KAAK,EAAE,CAAC,OAAO,CAAC,CAAC;AACjB,IAAI,MAAM,OAAO,GAAGC,aAAO,CAAC,MAAM;AAClC,QAAQ,OAAO;AACf,YAAY,GAAG,KAAK;AACpB,YAAY,kBAAkB,EAAE,CAAC,KAAK,EAAE,MAAM,KAAK;AACnD,gBAAgB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;AACrC,oBAAoB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;AAC9D;AACA,gBAAgB,OAAO,MAAM,CAAC,OAAO,CAAC,kBAAkB,CAAC,KAAK,EAAE,MAAM,CAAC;AACvE,aAAa;AACb,SAAS;AACT,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC;AACf,IAAI,QAAQC,cAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;AAChF,CAAC;;AC3EM,SAAS,UAAU,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,OAAO,EAAE,EAAE;AACzE,IAAI,MAAM,MAAM,GAAGC,gBAAU,CAAC,aAAa,CAAC;AAC5C,IAAI,MAAM,OAAO,GAAGL,YAAM,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;AACrE,IAAI,MAAM,YAAY,GAAGA,YAAM,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;AAC3D,IAAI,MAAM,QAAQ,GAAGA,YAAM,CAAC,KAAK,CAAC;AAClC,IAAI,QAAQ,CAAC,OAAO,GAAG,KAAK;AAC5B,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAGC,gBAAU,CAAC,OAAO,EAAE,YAAY,CAAC;AAC/D,IAAIC,eAAS,CAAC,MAAM;AACpB,QAAQ,IAAI,EAAE,EAAE,EAAE;AAClB,QAAQ,MAAM,WAAW,GAAG,CAAC,EAAE,GAAG,OAAO,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,SAAM,GAAG,SAAM,GAAG,EAAE,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC;AACpI,QAAQ,IAAI,CAAC,CAAC,EAAE,GAAG,OAAO,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,SAAM,GAAG,SAAM,GAAG,EAAE,CAAC,MAAM,MAAM,aAAa,CAAC,cAAc,EAAE;AACtH,YAAY,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;AAC1C;AACA,QAAQ,OAAO,MAAM;AACrB,YAAY,WAAW,KAAK,IAAI,IAAI,WAAW,KAAK,SAAM,GAAG,SAAM,GAAG,WAAW,EAAE;AACnF,SAAS;AACT,KAAK,EAAE,EAAE,CAAC;AACV,IAAI,OAAOC,aAAO,CAAC,MAAM;AACzB,QAAQ,OAAO;AACf,YAAY,KAAK;AACjB,YAAY,IAAI,EAAE,CAAC,OAAO,EAAE,OAAO,KAAK;AACxC,gBAAgB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE;AACtC,oBAAoB,MAAM,IAAI,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAC,4BAA4B,CAAC,CAAC;AACtF;AACA,gBAAgB,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC;AACtD,aAAa;AACb,YAAY,WAAW,EAAE,MAAM;AAC/B,gBAAgB,IAAI,EAAE;AACtB,gBAAgB,CAAC,EAAE,GAAG,OAAO,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,SAAM,GAAG,SAAM,GAAG,EAAE,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC;AAChH,aAAa;AACb,YAAY,YAAY,EAAE,MAAM;AAChC,gBAAgB,OAAO,MAAM,CAAC,gBAAgB;AAC9C,aAAa;AACb,YAAY,aAAa,EAAE,MAAM;AACjC,gBAAgB,OAAO,OAAO,CAAC,OAAO,CAAC,MAAM;AAC7C,aAAa;AACb,YAAY,kBAAkB,EAAE,MAAM;AACtC,gBAAgB,OAAO,OAAO,CAAC;AAC/B,sBAAsB,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,YAAY,CAAC,OAAO;AAC3E,sBAAsB,gBAAgB,CAAC,YAAY;AACnD,aAAa;AACb,SAAS;AACT,KAAK,EAAE,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AACvB;;;;;;;;"}